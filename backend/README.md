# Backend API

The backend of this project implement Express framework and MongoDB to create an API. Written here is the list of API endpoint that are sufficient and necessary to build a frontend. Simply, we categorised the API into two which are administrator and public routes. 

**NOTE:** The default content-type for POST and DELETE is `application/json`. Whilst the GET and DELETE do not have content-type header.

## Authentication Routes

A list of API use to authenticate a connection as an administrator.

#### `POST /api/admin/login`
- Login as an admin
- Body Parameters
	- **password**: a secret string distributed to each member of the committee

#### `DELETE /api/admin/logout`
- Logout as an admin

## Administrator Routes

The following API is restricted to site administrator and require authentication

#### `POST /api/admin/worker/:session`
- Add a worker to a session
- Path Parameters
	- **session**:  an ID of a session we want to add worker into
- Body Parameters
	- **identifier**: a hashed string generated by the application itself

#### `DELETE /api/admin/worker/:session/:studentID`
- Remove a worker from a session
- Path Parameters
	- **session**:  an ID of a session we want to remove worker from
	- **studentID**: unique 10-digits Chula Student ID

#### `POST /api/admin/sessions`
- Create a new session 
- Body Parameters
	- **teams**: `design`, `finance`, `hr`, `welfare`, `stand`, `show`, or `structure`
	- **date**: the date when the session takes place  in a format of `dd:mm`
	- **start**:  a timestamp in a format of `hh:mm` for example `13:45`
	- **end**: a timestamp, in the same format, after the start time
	- **[note]**: any note for this session

#### `PUT /api/admin/sessions/:id`
- Update or edit an existing session
- Path Parameters
	- **id**: a unique session ID
- Body Parameters
	- **teams**: `design`, `finance`, `hr`, `welfare`, `stand`, `show`, or `structure`
	- **date**: the date when the session takes place in a format of `dd:mm`
	- **start**:  a timestamp in a format of `hh:mm` for example `13:45`
	- **end**: a timestamp, in the same format, after the start time
	- **[note]**: any note for this session

#### `PUT /api/admin/sessions/:id/:type(open|close)`
- Open or close an existing session
- Path Parameters
	- **id**: a unique session ID
	- **type**: either `open` or `close`

#### `DELETE /api/admin/sessions/:id`
- Delete an existing session specified by its ID
- Path Parameters
	- **id**: a unique session ID

## Public Routes

Listed below are the list of API that anyone can access without restriction.

#### `GET /api/sessions`
- Return a list of all active sessions

#### `GET /api/sessions/:id`
- Search a session specified by its ID
- Path Parameters
	- **id**: a unique 10-digits Chula Student ID (e.g. `6238034521`)

#### `GET /api/sessions/:studentID([0-9]{10})`
- Get all sessions that the specified student has joined
- Path Parameters
	- **studentID**: a unique 10-digits Chula Student ID (e.g. `6238034521`)

#### `GET /api/students/:sessionID` 
- Get all students in a specified session
- Path Parameters
	- **sessionID**: a unique session ID

#### `POST /api/qr/:sessionID` and `POST /api/identifier/:sessionID`
- Return an activation code for joining session (this will be used to create QR code).
- Path Parameters
	- **sessionID**: a unique session ID
- Body Parameters
	- **nameNick**: the worker's nick name
	- **studentID**: the worker's 10-digits Chula Student ID
	- **[nameFirst]**: the worker's first name
	- **[nameLast]**: the worker's last name









